(function(){"use strict";var e={7138:function(e,t,n){var o=n(5130),a=n(6768),l=n(4232),r=n.p+"img/uleam.7aa24a84.png";const i=e=>((0,a.Qi)("data-v-0fd5d596"),e=e(),(0,a.jt)(),e),s={class:"calendar-page"},d=i((()=>(0,a.Lk)("h1",null,"Calendario de Eventos",-1))),c={class:"calendar-container"},u={key:0,class:"modal"},v=i((()=>(0,a.Lk)("label",{for:"event-title"},"Nombre del evento:",-1))),p=i((()=>(0,a.Lk)("label",{for:"event-start"},"Fecha y Hora de Inicio:",-1))),f=i((()=>(0,a.Lk)("label",{for:"event-end"},"Fecha y Hora de Fin:",-1))),h=i((()=>(0,a.Lk)("label",{for:"event-color"},"Color del Evento:",-1))),g={class:"color-options"},E=["onClick"],b={key:0,class:"selected-circle"},k={class:"button-group"},m={type:"submit"};function C(e,t,n,i,C,D){const y=(0,a.g2)("FullCalendar");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("header",null,[(0,a.Lk)("img",{src:r,alt:"ULEAM",class:"logo",onClick:t[0]||(t[0]=(...e)=>D.goToIndex&&D.goToIndex(...e))}),d,(0,a.Lk)("button",{class:"inicio-button",onClick:t[1]||(t[1]=(...e)=>D.goToIndex&&D.goToIndex(...e))},"Inicio")]),(0,a.Lk)("div",c,[(0,a.bF)(y,{ref:"fullCalendar",options:C.calendarOptions},null,8,["options"])]),C.showModal?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>D.saveEvent&&D.saveEvent(...e)),["prevent"]))},[(0,a.Lk)("h2",null,(0,l.v_)(C.selectedEvent?"Editar Evento":"Agregar Evento"),1),v,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>C.eventData.title=e),required:""},null,512),[[o.Jo,C.eventData.title]]),p,(0,a.bo)((0,a.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=e=>C.eventData.start=e),required:""},null,512),[[o.Jo,C.eventData.start]]),f,(0,a.bo)((0,a.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[4]||(t[4]=e=>C.eventData.end=e)},null,512),[[o.Jo,C.eventData.end]]),h,(0,a.Lk)("div",g,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(C.colors,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,style:(0,l.Tr)({backgroundColor:e}),class:"color-circle",onClick:t=>D.selectColor(e)},[C.eventData.color===e?((0,a.uX)(),(0,a.CE)("div",b)):(0,a.Q3)("",!0)],12,E)))),128))]),(0,a.Lk)("div",k,[(0,a.Lk)("button",m,(0,l.v_)(C.selectedEvent?"Guardar Cambios":"Agregar Evento"),1),C.selectedEvent?((0,a.uX)(),(0,a.CE)("button",{key:0,type:"button",onClick:t[5]||(t[5]=(...e)=>D.deleteEvent&&D.deleteEvent(...e))},"Eliminar")):(0,a.Q3)("",!0),(0,a.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>D.closeModal&&D.closeModal(...e))},"Cancelar")])],32)])):(0,a.Q3)("",!0)])}var D=n(4025),y=n(5753),w=n(8439),S=n(2447),O=n(2932),L={components:{FullCalendar:D.A},data(){return{calendarOptions:{plugins:[y.A,w.Ay,S.A],initialView:"dayGridMonth",locale:O.A,headerToolbar:{left:"prev,next today addEventButton",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},customButtons:{addEventButton:{text:"Agregar Evento",click:this.openAddModal}},editable:!0,selectable:!0,events:this.getStoredEvents(),eventClick:this.handleEventClick,eventDrop:this.updateStoredEvents,eventResize:this.updateStoredEvents},showModal:!1,eventData:{title:"",start:"",end:"",color:""},selectedEvent:null,colors:["#B22222","#006400","#00008B","#FFD700","#FF8C00","#4B0082","#FF69B4"]}},methods:{goToIndex(){window.location.href="/"},openAddModal(){this.resetEventData(),this.showModal=!0},resetEventData(){this.eventData={title:"",start:"",end:"",color:""},this.selectedEvent=null},saveEvent(){const e=this.$refs.fullCalendar.getApi(),t={...this.eventData};this.selectedEvent?(this.selectedEvent.setProp("title",t.title),this.selectedEvent.setStart(new Date(t.start)),this.selectedEvent.setEnd(t.end?new Date(t.end):null),this.selectedEvent.setProp("backgroundColor",t.color),this.updateStoredEvents()):(e.addEvent({title:t.title,start:new Date(t.start),end:t.end?new Date(t.end):null,backgroundColor:t.color}),this.updateStoredEvents()),this.closeModal()},handleEventClick(e){this.selectedEvent=e.event,this.eventData.title=e.event.title,this.eventData.start=this.formatDateTime(e.event.start),this.eventData.end=this.formatDateTime(e.event.end),this.eventData.color=e.event.backgroundColor,this.showModal=!0},formatDateTime(e){return e?new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,16):""},closeModal(){this.showModal=!1},deleteEvent(){this.selectedEvent.remove(),this.updateStoredEvents(),this.closeModal()},selectColor(e){this.eventData.color=e},getStoredEvents(){const e=JSON.parse(localStorage.getItem("loggedInStudent"));return e&&e.events?e.events.map((e=>({...e,start:new Date(e.start),end:e.end?new Date(e.end):null}))):[]},updateStoredEvents(){const e=this.$refs.fullCalendar.getApi(),t=e.getEvents().map((e=>({title:e.title,start:e.start.toISOString(),end:e.end?e.end.toISOString():null,color:e.backgroundColor}))),n=JSON.parse(localStorage.getItem("loggedInStudent"));n.events=t,localStorage.setItem("loggedInStudent",JSON.stringify(n))}}},I=n(1241);const M=(0,I.A)(L,[["render",C],["__scopeId","data-v-0fd5d596"]]);var A=M;(0,o.Ef)(A).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,l){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],l=e[c][2];for(var i=!0,s=0;s<o.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(i=!1,l<r&&(r=l));if(i){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.j=517}(),function(){n.p="/"}(),function(){var e={517:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,r=o[0],i=o[1],s=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(s)var c=s(n)}for(t&&t(o);d<r.length;d++)l=r[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},o=self["webpackChunkproyecto_appsweb1"]=self["webpackChunkproyecto_appsweb1"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(7138)}));o=n.O(o)})();
//# sourceMappingURL=calendar.73c7699f.js.map